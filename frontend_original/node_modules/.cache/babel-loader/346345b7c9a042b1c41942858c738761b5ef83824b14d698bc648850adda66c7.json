{"ast":null,"code":"var _jsxFileName = \"/home/hlgsagar/Downloads/frontend_original (1)/frontend_original/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport Header from \"./components/header\";\nimport RegistrationForm from \"./components/registration\";\nimport Login from \"./components/login\";\nimport CourseForm from \"./components/courseRegistration\";\nimport registerService from \"./services/register\";\nimport Exit from \"./components/exit\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const navigate = useNavigate();\n  const handleRegister = async details => {\n    try {\n      const userObject = await registerService.register(details);\n      if (!userObject) {\n        setUserData(null);\n        alertBox(\"Email id already exists\");\n        return;\n      }\n      setUserData(userObject);\n      window.localStorage.setItem(\"loggedInUser\", JSON.stringify(userObject));\n      // return userData;\n      navigate(\"/courses\");\n    } catch (exception) {\n      alertBox(\"Choose correct department \");\n    }\n  };\n  const alertBox = message => {\n    confirmAlert({\n      title: \"Notification\",\n      message: message,\n      buttons: [{\n        label: \"Ok\",\n        onClick: () => {\n          const currList = window.localStorage.getItem(\"currentList\");\n          const courseList = window.localStorage.getItem(\"courseList\");\n          if (currList || (courseList === null || courseList === void 0 ? void 0 : courseList.length) === 2) {\n            window.localStorage.removeItem(\"loggedInUser\");\n            window.localStorage.removeItem(\"courseList\");\n          }\n        }\n      }]\n    });\n  };\n  useEffect(() => {\n    const loggedInUser = window.localStorage.getItem(\"loggedInUser\");\n    if (loggedInUser) setUserData(JSON.parse(loggedInUser));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: user => setUserData(user)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: userData ? /*#__PURE__*/_jsxDEV(RegistrationForm, {\n            startRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/courses\",\n          element: userData ? /*#__PURE__*/_jsxDEV(CourseForm, {\n            userData: userData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZXUnXMK21NQrnidOm082sUJmyCo=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","Header","RegistrationForm","Login","CourseForm","registerService","Exit","confirmAlert","App","userData","setUserData","navigate","handleRegister","details","userObject","register","alertBox","window","localStorage","setItem","JSON","stringify","exception","message","title","buttons","label","onClick","currList","getItem","courseList","length","removeItem","loggedInUser","parse","user"],"sources":["/home/hlgsagar/Downloads/frontend_original (1)/frontend_original/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport Header from \"./components/header\";\nimport RegistrationForm from \"./components/registration\";\nimport Login from \"./components/login\";\nimport CourseForm from \"./components/courseRegistration\";\nimport registerService from \"./services/register\";\nimport Exit from \"./components/exit\";\nimport { confirmAlert } from \"react-confirm-alert\";\n\nfunction App() {\n  const [userData, setUserData] = useState(null);\n  const navigate = useNavigate();\n\n  const handleRegister = async (details) => {\n    try {\n      const userObject = await registerService.register(details);\n\n      if (!userObject) {\n        setUserData(null);\n        alertBox(\"Email id already exists\");\n        return;\n      }\n      setUserData(userObject);\n      window.localStorage.setItem(\"loggedInUser\", JSON.stringify(userObject));\n      // return userData;\n      navigate(\"/courses\");\n\n    } catch (exception) {\n      alertBox(\"Choose correct department \");\n    }\n  };\n\n  const alertBox = (message) => {\n    confirmAlert({\n      title: \"Notification\",\n      message: message,\n      buttons: [\n        {\n          label: \"Ok\",\n          onClick: () => {\n            const currList = window.localStorage.getItem(\"currentList\");\n            const courseList = window.localStorage.getItem(\"courseList\");\n            if (currList || courseList?.length === 2) {\n              window.localStorage.removeItem(\"loggedInUser\");\n              window.localStorage.removeItem(\"courseList\");\n            }\n          },\n        },\n      ],\n    });\n  };\n\n  useEffect(() => {\n    const loggedInUser = window.localStorage.getItem(\"loggedInUser\");\n    if (loggedInUser) setUserData(JSON.parse(loggedInUser));\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          {/* Login Page */}\n          <Route\n            path=\"/login\"\n            element={<Login onLogin={(user) => setUserData(user)} />}\n          />\n\n          {/* Registration Page */}\n          <Route\n            path=\"/register\"\n            element={\n              userData ? (\n                <RegistrationForm startRegister={handleRegister} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n\n          {/* Course Registration */}\n          <Route\n            path=\"/courses\"\n            element={\n              userData ? (\n                <CourseForm userData={userData} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n\n          {/* Default Route */}\n          <Route path=\"*\" element={<Navigate to=\"/login\" />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}